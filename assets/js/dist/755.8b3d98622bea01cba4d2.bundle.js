(self.webpackChunkkcc_gem_theme=self.webpackChunkkcc_gem_theme||[]).push([[755],{822:function(e,t,n){var r={"./addAccordionOrTabHistoryStates":[814,814],"./addAccordionOrTabHistoryStates.js":[814,814],"./alerts":[897],"./alerts.js":[897],"./cacheResponse":[525],"./cacheResponse.js":[525],"./checkForPrefersReducedMotion":[596],"./checkForPrefersReducedMotion.js":[596],"./contentHashLink":[640,640],"./contentHashLink.js":[640,640],"./createAlertsHtml":[169],"./createAlertsHtml.js":[169],"./fetchNewAlert":[859,859],"./fetchNewAlert.js":[859,859],"./getCachedResponse":[227],"./getCachedResponse.js":[227],"./parseMarkdownToHTML":[591],"./parseMarkdownToHTML.js":[591],"./refreshAlertButton":[853,853],"./refreshAlertButton.js":[853,853]};function s(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],s=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(s)}))}s.keys=function(){return Object.keys(r)},s.id=822,e.exports=s},897:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(169),s=n(525),o=n(227),a=n(596);const c={spreadsheetId:"1plXBiZY5pVbhNT-mszxEuqCl4zy8wMnz9gXXbbT_yLs",range:"Alerts"},i={apiKey:"AIzaSyCEBsbXfFcdbkASlg-PodD1rT_Fe3Nw62A",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/sheets/v4/rest"]},l=!(!document.querySelector("#accordion")&&!document.querySelector(".navTabs"));async function u(e){const{default:t}=await n(822)(`./${e}`);return t()}function d(){if((0,a.default)(),!document.getElementById("emergencyAlerts"))return l?u("contentHashLink"):null;new Promise(((e,t)=>{if(window.sessionStorage.getItem("Alert-Content"))return(0,o.default)(),e();gapi.load("client",(()=>{gapi.client.init(i).then((()=>gapi.client.sheets.spreadsheets.values.get(c))).then((e=>((0,r.default)(e),e))).then((t=>{(0,s.default)(t),e()}),(e=>{console.error("Error trying to fetch the alert from gapi:",e)}))}))})).then((()=>{window.setTimeout((()=>l?u("contentHashLink"):null),100)})).then((()=>{if(document.getElementById("syncAlert"))return u("refreshAlertButton")}))}},525:function(e,t,n){"use strict";n.r(t),t.default=function(e){const t=e.result.values,n=t[1],r=t[2];for(let e=0,t=r.length;e<t;e++){const t=r[e],s=n[e];window.sessionStorage.setItem(s.replace(/\s/g,"-"),t)}}},596:function(e,t,n){"use strict";n.r(t),t.default=function(){const e=window.matchMedia("(prefers-reduced-motion: reduce)"),t=-1!==window.navigator.userAgent.search(/MSIE/g);let n;n=!!e.matches,localStorage.setItem("userPrefersReducedMotion",n),t||e.addEventListener("change",(t=>{n=!!e.matches,localStorage.setItem("userPrefersReducedMotion",n)}))}},169:function(e,t,n){"use strict";n.r(t);var r=n(591);const s=document.getElementById("emergencyAlerts");function o(e){return"SCHOOL EMERGENCY/CLOSURE - red"==e?"danger":"SCHOOL INFO - blue"==e?"primary":"SCHOOL INFO - cyan"==e?"info":"warning"}t.default=function(e){let[t,n,a,c,i,l,u]=e.result.values[2];if("FALSE"===t)return;const d=new Date,f=new Date(i),g=new Date(l),h=(o(u),o(u)),p="FALSE"===c||"TRUE"===c&&f.getTime()<=d.getTime()&&g.getTime()>d.getTime(),m="TRUE"===n||"FALSE"===n&&"/"==window.location.pathname;let _=`\n<div class="container">\n  <div class="row">\n    <div class="col">\n      <div role="alert" class="alert alert-${h} d-lg-flex align-items-center pr-lg-1">\n        <div class="typography__last-p--mb0">\n          ${(0,r.default)(a)}\n        </div>\n        <button\n          aria-label="Refresh the alert"\n          title="Refresh the alert"\n          id="syncAlert"\n          type="button"\n          class="btn btn-link buttons--sync ml-auto">\n          <svg xmlns="http://www.w3.org/2000/svg"\n            class="svg__sync"\n            height="24px"\n            width="24px"\n            viewBox="0 0 24 24">\n            <path d="M0 0h24v24H0z" fill="none"/>\n            <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 \n            12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 \n            4.42 3.58 8 8 8v3l4-4-4-4v3z"/>\n          </svg>\n        </button>\n        </div>\n    </div>\n  </div>\n</div>`;return[d,f,g].map((e=>e.setHours(0,0,0,0))),p&&m?function(e,t){return e.innerHTML=t,e.classList.add("position__offset-alert--visible")}(s,_):null}},227:function(e,t,n){"use strict";n.r(t);var r=n(169);const s=window.sessionStorage;t.default=function(){try{!function(){let e={result:{values:[0,0,[s.Visible,s.getItem("All-Pages"),s.getItem("Alert-Content"),s.getItem("Alert-Expiration"),s.Start,s.End,s.getItem("Alert-type/Color-scheme")]]}};(0,r.default)(e)}()}catch(e){console.error(`Error retrieving cached response in sessionStorage:\nName: ${e.name}\nMessage: ${e.message}\n${e}`)}}},591:function(e,t,n){"use strict";n.r(t);const r={strong:/\*\*([^\*]*)\*\*/g,em:/_([^_]*)_/g};function s(e,t,n){return e.replace(t,n)}function o(e,t){const n={"\\*":"__asterisk__","\\_":"__underscore__","\\[":"__openBracket__","\\]":"__closeBracket__","\\(":"__openParenthesis__","\\)":"__closeParenthesis__"};for(let r in n)n.hasOwnProperty(r)&&(!0===t?e=s(e,r,n[r]):!1===t&&(e=s(e,n[r],r.replace(/^\\/g,""))));return e}function a(e,t){if(""===t)return e;for(var n in r)r.hasOwnProperty(n)&&(e=e.replace(r[n],"<"+n+">$1</"+n+">"));return e}function c(e,t){return""===t?e:e.replace(/^(.*)$/gm,'<p class="typography__alert">$1</p>')}t.default=function(e){const t=function(e){return e.replace(/\[(?<linkText>[^\]]*)\]\((?<linkHref>[^\)]*)\)/g,'<a href="$<linkHref>" target="_blank" rel="noopener noreferrer">$<linkText></a>')}(function(e){for(var t in r)r.hasOwnProperty(t)&&(e=e.replace(r[t],a));return e}(o(e,!0)));return o(function(e){return e.replace(/^(.*)$/gm,c)}(t),!1)}}}]);